# ai2fa v0.2.0

Release date: 2026-02-28

## Summary

`v0.2.0` turns ai2fa into a stronger production baseline with:
- hardened verification semantics
- optional authenticator app support (TOTP)
- safer secret handling
- improved docs and integration guidance

## Highlights

### Security profiles

- Introduced 5-level model:
  - `minimal`
  - `low` (default)
  - `medium`
  - `high`
  - `extra_high`
- Kept legacy compatibility:
  - `relaxed` -> `minimal`
  - `balanced` -> `low`
  - `strict` -> `medium`
  - `paranoid` -> `extra_high`

### TOTP support (optional)

- Added `ai2fa totp` command family:
  - `setup`, `verify`, `status`, `disable`
- Added config:
  - `totp_mode: off|fallback|required`
  - `totp_window`
- Enforced anti-replay with `totp_last_counter`

### Secret and verification hardening

- Challenge phrase now stored as salted hash
  - legacy plaintext auto-migrates after successful verification
- Added stronger TOTP failure semantics
- Hardened canary name parsing and payload safety
- Added bounded network timeout/retry defaults for channel requests

### Docs and operator UX

- Updated README and integrations for TOTP and profile model
- Added migration guide:
  - `docs/migrations/v0.2.0.md`

## Testing

Latest release validation:
- `bash scripts/selftest.sh`
- Result: `20/20` passing

## Upgrade

See:
- `docs/migrations/v0.2.0.md`

